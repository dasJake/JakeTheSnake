{
  "version": 3,
  "sources": ["../server.ts"],
  "sourcesContent": ["import express, { Request, Response, NextFunction } from \"express\"\n\nexport interface BattlesnakeHandlers {\n  info: Function;\n  start: Function;\n  move: Function;\n  end: Function;\n}\n\nexport default function runServer(handlers: BattlesnakeHandlers) {\n  const app = express();\n  app.use(express.json());\n\n  app.get(\"/\", (req: Request, res: Response) => {\n    res.send(handlers.info());\n  });\n\n  app.post(\"/start\", (req: Request, res: Response) => {\n    handlers.start(req.body);\n    res.send(\"ok\");\n  });\n\n  app.post(\"/move\", (req: Request, res: Response) => {\n    res.send(handlers.move(req.body));\n  });\n\n  app.post(\"/end\", (req: Request, res: Response) => {\n    handlers.end(req.body);\n    res.send(\"ok\");\n  });\n\n  app.use(function(req: Request, res: Response, next: NextFunction) {\n    res.set(\"Server\", \"battlesnake/replit/starter-snake-typescript\");\n    next();\n  });\n\n  const host = '0.0.0.0';\n  const port = parseInt(process.env.PORT || '8000');\n\n  app.listen(port, host, () => {\n    console.log(`Running Battlesnake at http://${host}:${port}...`);\n  });\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA,qBAAyD;AAS1C,mBAAmB,UAA+B;AAC/D,QAAM,MAAM;AACZ,MAAI,IAAI,uBAAQ;AAEhB,MAAI,IAAI,KAAK,CAAC,KAAc,QAAkB;AAC5C,QAAI,KAAK,SAAS;AAAA;AAGpB,MAAI,KAAK,UAAU,CAAC,KAAc,QAAkB;AAClD,aAAS,MAAM,IAAI;AACnB,QAAI,KAAK;AAAA;AAGX,MAAI,KAAK,SAAS,CAAC,KAAc,QAAkB;AACjD,QAAI,KAAK,SAAS,KAAK,IAAI;AAAA;AAG7B,MAAI,KAAK,QAAQ,CAAC,KAAc,QAAkB;AAChD,aAAS,IAAI,IAAI;AACjB,QAAI,KAAK;AAAA;AAGX,MAAI,IAAI,SAAS,KAAc,KAAe,MAAoB;AAChE,QAAI,IAAI,UAAU;AAClB;AAAA;AAGF,QAAM,OAAO;AACb,QAAM,OAAO,SAAS,QAAQ,IAAI,QAAQ;AAE1C,MAAI,OAAO,MAAM,MAAM,MAAM;AAC3B,YAAQ,IAAI,iCAAiC,QAAQ;AAAA;AAAA;",
  "names": []
}
